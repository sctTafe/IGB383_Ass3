tree("Root")
	parallel
		mute
			not tree "AmmoConservation"
		mute
			tree "WeaponsFire"

// Tree for controlling Ammo Conservation
tree ("AmmoConservation")
		parallel
			mute
				tree "LaserConservationMode"
			mute
				tree "CannonConservationMode"

	//		repeat
	//			mute
	//				tree "MissileConservationMode"
	//		repeat
	//			mute
	// tree "BeamConservationMode"

// Tree for controlling when to fire weapons
tree ("WeaponsFire")
	while Targeting_Conditional_HasAttackTarget()
		repeat
			parallel
				mute
					tree "Laser"
				mute
					tree "Cannons"
				mute
					tree "Missiles"
				mute
					tree "Beam"

// Ammo Conservation
tree ("LaserConservationMode")
	fallback
		while Laser_Conditional_OverHalfAmmoRemaining()				
			Laser_Action_SetBaseWeaponValues()
		Laser_Action_SetConservativeFiringValues()

tree ("CannonConservationMode")
	fallback
		while Cannon_Conditional_OverHalfAmmoRemaining()				
			Cannon_Action_SetBaseWeaponValues()
		Cannon_Action_SetConservativeFiringValues()

tree ("MissileConservationMode")
	fallback
		while Missile_Conditional_OverHalfAmmoRemaining()				
			Missile_Action_SetBaseWeaponValues()
		Missile_Action_SetConservativeFiringValues()

tree ("BeamConservationMode")
	fallback
		while Beam_Conditional_OverHalfAmmoRemaining()				
			Beam_Action_SetBaseWeaponValues()
		Beam_Action_SetConservativeFiringValues()

// Weapons Firing
tree ("Laser")				
	while
		sequence
			Targeting_Conditional_HasAttackTarget()
			Laser_Conditional_InRange()
			Laser_Conditional_InFireAngle()
			Laser_Conditional_SufficientResources()
		repeat
			Laser_Action_Fire()				

tree ("Cannons")
	while
		sequence
			Targeting_Conditional_HasAttackTarget()
			Cannons_Conditional_InRange()
			Cannons_Conditional_InFireAngle()
			Cannons_Conditional_SufficientResources()
		repeat
			Cannon_Action_Fire()

tree ("Missiles")
	while
		sequence
			Targeting_Conditional_HasAttackTarget()
			Missile_Conditional_InRange()
			Missile_Conditional_InFireAngle()
			Missile_Conditional_SufficientResources()
		repeat
			Missile_Action_Fire()

tree ("Beam")
	fallback
		while
			sequence
				Targeting_Conditional_HasAttackTarget()
				Beam_Conditional_InRange()
				Beam_Conditional_InFireAngle()
				Beam_Conditional_SufficientResources()
			repeat
				Beam_Action_Activate()
		Beam_Action_DeactivateBeam()